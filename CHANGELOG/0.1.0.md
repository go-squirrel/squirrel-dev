# Release v0.1.0

> This is the first official minor version release. Previous versions (0.0.1, 0.0.2) were temporary releases.
>
> 这是第一个正式的小版本发布。之前的版本（0.0.1, 0.0.2）为临时版本。

---

## [English]

### Overview

Squirrel Dev v0.1.0 is the first official release of a lightweight, modern operations management platform. It supports server management, application deployment, monitoring & alerting, and script execution.

### Core Components

| Component | Description | Default Port |
|-----------|-------------|--------------|
| `squ-apiserver` | Console server providing API endpoints and frontend interface | 10700 |
| `squ-agent` | Client agent deployed on target servers to execute operations | 10750 |
| `squctl` | CLI tool for interacting with apiserver | - |

### New Features

#### Server Management
- Server CRUD operations (list, get, add, update, delete)
- SSH terminal with WebSocket support
- SSH connection test endpoint (`/ssh/test/:id`)
- Agent connectivity check (`/server/check`)
- Server list displays agent port

#### Application Deployment
- Docker Compose application deployment
- Application start/stop/redeploy operations
- Deployment configuration management
- Multi-server deployment support
- Environment variables configuration (`.env` file support)
- Deployment status reporting

#### App Store
- Built-in application templates (nginx, etc.)
- Compose template certification
- Quick service deployment

#### Monitoring & Alerting
- Real-time CPU, memory, disk, and network monitoring
- Disk I/O monitoring
- Network I/O monitoring
- Disk usage monitoring
- Historical data with pagination support
- Monitoring data caching for performance

#### Script Management
- Script CRUD operations
- Remote script execution
- Execution result tracking
- Cron expression support for scheduled tasks

#### Security
- JWT-based authentication
- mTLS support for secure communication
- Certificate generation via `squctl gen certs`

#### Configuration Center
- Centralized application configuration management
- Dynamic configuration updates

### API Endpoints

#### Server
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/server` | List all servers |
| GET | `/server/:id` | Get server by ID |
| POST | `/server` | Add new server |
| POST | `/server/:id` | Update server |
| DELETE | `/server/:id` | Delete server |
| POST | `/server/check` | Check agent connectivity |
| POST | `/ssh/test/:id` | Test SSH connection |
| GET | `/ws/server/:id` | WebSocket terminal |

#### Deployment
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/deployment` | List deployments |
| POST | `/deployment/:id` | Update deployment |
| POST | `/deployment/deploy/:id` | Deploy application |
| DELETE | `/deployment/deploy/:id` | Undeploy application |
| POST | `/deployment/start/:id` | Start application |
| POST | `/deployment/stop/:id` | Stop application |
| POST | `/deployment/redeploy/:id` | Redeploy application |
| GET | `/deployment/:id/servers` | List deployment servers |
| POST | `/deployment/report` | Report deployment status |

#### Monitor
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/monitor/:serverId/stats` | Get system stats |
| GET | `/monitor/:serverId/disk-io` | Get disk I/O |
| GET | `/monitor/:serverId/net-io` | Get network I/O |
| GET | `/monitor/:serverId/base/:page/:count` | Get base monitor page |
| GET | `/monitor/:serverId/disk-io/:page/:count` | Get disk I/O page |
| GET | `/monitor/:serverId/net-io/:page/:count` | Get network monitor page |
| GET | `/monitor/:serverId/disk-usage/:page/:count` | Get disk usage page |

#### Script
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/scripts` | List scripts |
| GET | `/scripts/:id` | Get script by ID |
| POST | `/scripts` | Add script |
| POST | `/scripts/:id` | Update script |
| DELETE | `/scripts/:id` | Delete script |
| POST | `/scripts/execute` | Execute script |
| GET | `/scripts/:id/results` | Get execution results |

### Tech Stack

- **Backend**: Go 1.25+, Gin, GORM, JWT, WebSocket, Cobra, Viper, Zap
- **Frontend**: Vue 3, TypeScript, Vite, Pinia, Vue Router, Vue I18n, Sass
- **Database**: SQLite (default), MySQL (optional)

---

## [中文]

### 概述

Squirrel Dev v0.1.0 是轻量级现代化运维管理平台的第一个正式发布版本。支持服务器管理、应用部署、监控告警和脚本执行等功能。

### 核心组件

| 组件 | 描述 | 默认端口 |
|------|------|----------|
| `squ-apiserver` | 控制台服务器，提供 API 接口和前端界面 | 10700 |
| `squ-agent` | 客户端代理，部署在目标服务器上执行操作 | 10750 |
| `squctl` | 与 apiserver 交互的命令行工具 | - |

### 新增功能

#### 服务器管理
- 服务器 CRUD 操作（列表、查询、添加、更新、删除）
- 基于 WebSocket 的 SSH 终端
- SSH 连接测试接口 (`/ssh/test/:id`)
- Agent 连通性检查 (`/server/check`)
- 服务器列表显示 Agent 端口

#### 应用部署
- Docker Compose 应用部署
- 应用启动/停止/重新部署操作
- 部署配置管理
- 多服务器部署支持
- 环境变量配置（支持 `.env` 文件）
- 部署状态上报

#### 应用商店
- 内置应用模板（nginx 等）
- Compose 模板认证
- 快速服务部署

#### 监控告警
- 实时 CPU、内存、磁盘、网络监控
- 磁盘 I/O 监控
- 网络 I/O 监控
- 磁盘使用率监控
- 历史数据分页查询
- 监控数据缓存优化性能

#### 脚本管理
- 脚本 CRUD 操作
- 远程脚本执行
- 执行结果追踪
- 支持 Cron 表达式的定时任务

#### 安全
- 基于 JWT 的身份认证
- mTLS 安全通信支持
- 通过 `squctl gen certs` 生成证书

#### 配置中心
- 集中式应用配置管理
- 动态配置更新

### API 接口

#### 服务器
| 方法 | 端点 | 描述 |
|------|------|------|
| GET | `/server` | 获取服务器列表 |
| GET | `/server/:id` | 获取服务器详情 |
| POST | `/server` | 添加服务器 |
| POST | `/server/:id` | 更新服务器 |
| DELETE | `/server/:id` | 删除服务器 |
| POST | `/server/check` | 检查 Agent 连通性 |
| POST | `/ssh/test/:id` | 测试 SSH 连接 |
| GET | `/ws/server/:id` | WebSocket 终端 |

#### 部署
| 方法 | 端点 | 描述 |
|------|------|------|
| GET | `/deployment` | 获取部署列表 |
| POST | `/deployment/:id` | 更新部署配置 |
| POST | `/deployment/deploy/:id` | 部署应用 |
| DELETE | `/deployment/deploy/:id` | 取消部署 |
| POST | `/deployment/start/:id` | 启动应用 |
| POST | `/deployment/stop/:id` | 停止应用 |
| POST | `/deployment/redeploy/:id` | 重新部署应用 |
| GET | `/deployment/:id/servers` | 获取部署服务器列表 |
| POST | `/deployment/report` | 上报部署状态 |

#### 监控
| 方法 | 端点 | 描述 |
|------|------|------|
| GET | `/monitor/:serverId/stats` | 获取系统统计 |
| GET | `/monitor/:serverId/disk-io` | 获取磁盘 I/O |
| GET | `/monitor/:serverId/net-io` | 获取网络 I/O |
| GET | `/monitor/:serverId/base/:page/:count` | 获取基础监控分页 |
| GET | `/monitor/:serverId/disk-io/:page/:count` | 获取磁盘 I/O 分页 |
| GET | `/monitor/:serverId/net-io/:page/:count` | 获取网络监控分页 |
| GET | `/monitor/:serverId/disk-usage/:page/:count` | 获取磁盘使用率分页 |

#### 脚本
| 方法 | 端点 | 描述 |
|------|------|------|
| GET | `/scripts` | 获取脚本列表 |
| GET | `/scripts/:id` | 获取脚本详情 |
| POST | `/scripts` | 添加脚本 |
| POST | `/scripts/:id` | 更新脚本 |
| DELETE | `/scripts/:id` | 删除脚本 |
| POST | `/scripts/execute` | 执行脚本 |
| GET | `/scripts/:id/results` | 获取执行结果 |

### 技术栈

- **后端**: Go 1.25+, Gin, GORM, JWT, WebSocket, Cobra, Viper, Zap
- **前端**: Vue 3, TypeScript, Vite, Pinia, Vue Router, Vue I18n, Sass
- **数据库**: SQLite (默认), MySQL (可选)

---

## Commit Statistics | 提交统计

Total commits: 134

- Features (feat): ~70%
- Fixes (fix): ~20%
- Refactoring (refactor): ~10%
